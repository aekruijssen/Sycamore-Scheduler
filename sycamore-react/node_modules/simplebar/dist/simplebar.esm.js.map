{"version":3,"file":"simplebar.esm.js","sources":["../src/simplebar.js"],"sourcesContent":["import scrollbarWidth from 'scrollbarwidth';\nimport throttle from 'lodash.throttle';\nimport debounce from 'lodash.debounce';\nimport memoize from 'lodash.memoize';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport canUseDOM from 'can-use-dom';\n\nexport default class SimpleBar {\n  constructor(element, options) {\n    this.el = element;\n    this.flashTimeout;\n    this.contentEl;\n    this.offsetEl;\n    this.maskEl;\n    this.globalObserver;\n    this.mutationObserver;\n    this.resizeObserver;\n    this.scrollbarWidth;\n    this.minScrollbarWidth = 20;\n    this.options = Object.assign({}, SimpleBar.defaultOptions, options);\n    this.isRtl;\n    this.classNames = this.options.classNames;\n    this.axis = {\n      x: {\n        scrollOffsetAttr: 'scrollLeft',\n        sizeAttr: 'width',\n        scrollSizeAttr: 'scrollWidth',\n        offsetAttr: 'left',\n        overflowAttr: 'overflowX',\n        dragOffset: 0,\n        isEnabled: true,\n        isVisible: false,\n        track: {},\n        scrollbar: {}\n      },\n      y: {\n        scrollOffsetAttr: 'scrollTop',\n        sizeAttr: 'height',\n        scrollSizeAttr: 'scrollHeight',\n        offsetAttr: 'top',\n        overflowAttr: 'overflowY',\n        dragOffset: 0,\n        isEnabled: true,\n        isVisible: false,\n        track: {},\n        scrollbar: {}\n      }\n    };\n\n    this.recalculate = throttle(this.recalculate.bind(this), 64);\n    this.onMouseMove = throttle(this.onMouseMove.bind(this), 64);\n    this.hideScrollbars = debounce(this.hideScrollbars.bind(this), this.options.timeout);\n    this.onWindowResize = debounce(this.onWindowResize.bind(this), 64, { leading: true });\n\n    SimpleBar.getRtlHelpers = memoize(SimpleBar.getRtlHelpers);\n\n    // getContentElement is deprecated\n    this.getContentElement = this.getScrollElement;\n\n    this.init();\n  }\n\n  /**\n   * Static properties\n   */\n\n  /**\n   * Helper to fix browsers inconsistency on RTL:\n   *  - Firefox inverts the scrollbar initial position\n   *  - IE11 inverts both scrollbar position and scrolling offset\n   */\n  static getRtlHelpers() {\n    const dummyDiv = document.createElement('div');\n    dummyDiv.innerHTML = '<div class=\"hs-dummy-scrollbar-size\"><div style=\"height: 200%; width: 200%; margin: 10px 0;\"></div></div>';\n    const scrollbarDummyEl = dummyDiv.firstElementChild;\n    document.body.appendChild(scrollbarDummyEl);\n    const dummyContainerChild = scrollbarDummyEl.firstElementChild;\n    scrollbarDummyEl.scrollLeft = 0;\n    const dummyContainerOffset = SimpleBar.getOffset(scrollbarDummyEl);\n    const dummyContainerChildOffset = SimpleBar.getOffset(dummyContainerChild);\n    scrollbarDummyEl.scrollLeft = 999;\n    const dummyContainerScrollOffsetAfterScroll = SimpleBar.getOffset(dummyContainerChild);\n\n    return {\n      // determines if the scrolling is responding with negative values\n      isRtlScrollingInverted: dummyContainerOffset.left !== dummyContainerChildOffset.left && dummyContainerChildOffset.left - dummyContainerScrollOffsetAfterScroll.left !== 0,\n      // determines if the origin scrollbar position is inverted or not (positioned on left or right)\n      isRtlScrollbarInverted: dummyContainerOffset.left !== dummyContainerChildOffset.left\n    };\n  }\n\n  static defaultOptions = {\n    autoHide: true,\n    forceVisible: false,\n    classNames: {\n      content: 'simplebar-content',\n      offset: 'simplebar-offset',\n      mask: 'simplebar-mask',\n      wrapper: 'simplebar-wrapper',\n      placeholder: 'simplebar-placeholder',\n      scrollbar: 'simplebar-scrollbar',\n      track: 'simplebar-track',\n      heightAutoObserverWrapperEl: 'simplebar-height-auto-observer-wrapper',\n      heightAutoObserverEl: 'simplebar-height-auto-observer',\n      visible: 'visible',\n      horizontal: 'horizontal',\n      vertical: 'vertical'\n    },\n    scrollbarMinSize: 25,\n    scrollbarMaxSize: 0,\n    timeout: 1000\n  }\n\n  static initHtmlApi() {\n    this.initDOMLoadedElements = this.initDOMLoadedElements.bind(this);\n\n    // MutationObserver is IE11+\n    if (typeof MutationObserver !== 'undefined') {\n      // Mutation observer to observe dynamically added elements\n      this.globalObserver = new MutationObserver(mutations => {\n        mutations.forEach(mutation => {\n          Array.from(mutation.addedNodes).forEach(addedNode => {\n            if (addedNode.nodeType === 1) {\n              if (addedNode.hasAttribute('data-simplebar')) {\n                !addedNode.SimpleBar &&\n                  new SimpleBar(addedNode, SimpleBar.getElOptions(addedNode));\n              } else {\n                Array.from(\n                  addedNode.querySelectorAll('[data-simplebar]')\n                ).forEach(el => {\n                  !el.SimpleBar &&\n                    new SimpleBar(el, SimpleBar.getElOptions(el));\n                });\n              }\n            }\n          });\n\n          Array.from(mutation.removedNodes).forEach(removedNode => {\n            if (removedNode.nodeType === 1) {\n              if (removedNode.hasAttribute('data-simplebar')) {\n                removedNode.SimpleBar && removedNode.SimpleBar.unMount();\n              } else {\n                Array.from(\n                  removedNode.querySelectorAll('[data-simplebar]')\n                ).forEach(el => {\n                  el.SimpleBar && el.SimpleBar.unMount();\n                });\n              }\n            }\n          });\n        });\n      });\n\n      this.globalObserver.observe(document, { childList: true, subtree: true });\n    }\n\n    // Taken from jQuery `ready` function\n    // Instantiate elements already present on the page\n    if (\n      document.readyState === 'complete' ||\n      (document.readyState !== 'loading' && !document.documentElement.doScroll)\n    ) {\n      // Handle it asynchronously to allow scripts the opportunity to delay init\n      window.setTimeout(this.initDOMLoadedElements);\n    } else {\n      document.addEventListener('DOMContentLoaded', this.initDOMLoadedElements);\n      window.addEventListener('load', this.initDOMLoadedElements);\n    }\n  }\n\n  // Helper function to retrieve options from element attributes\n  static getElOptions(el) {\n    const options = Array.from(el.attributes).reduce((acc, attribute) => {\n      const option = attribute.name.match(/data-simplebar-(.+)/);\n      if (option) {\n        const key = option[1].replace(/\\W+(.)/g, (x, chr) => chr.toUpperCase());\n        switch (attribute.value) {\n          case 'true':\n            acc[key] = true;\n            break;\n          case 'false':\n            acc[key] = false;\n            break;\n          case undefined:\n            acc[key] = true;\n            break;\n          default:\n            acc[key] = attribute.value;\n        }\n      }\n      return acc;\n    }, {});\n    return options;\n  }\n\n  static removeObserver() {\n    this.globalObserver.disconnect();\n  }\n\n  static initDOMLoadedElements() {\n    document.removeEventListener(\n      'DOMContentLoaded',\n      this.initDOMLoadedElements\n    );\n    window.removeEventListener('load', this.initDOMLoadedElements);\n\n    Array.from(document.querySelectorAll('[data-simplebar]')).forEach(el => {\n      if (!el.SimpleBar) new SimpleBar(el, SimpleBar.getElOptions(el));\n    });\n  }\n\n  static getOffset(el) {\n    const rect = el.getBoundingClientRect();\n\n    return {\n      top: rect.top + (window.pageYOffset || document.documentElement.scrollTop),\n      left: rect.left + (window.pageXOffset || document.documentElement.scrollLeft)\n    };\n  }\n\n  init() {\n    // Save a reference to the instance, so we know this DOM node has already been instancied\n    this.el.SimpleBar = this;\n\n    this.initDOM();\n\n    // We stop here on server-side\n    if (canUseDOM) {\n      // Recalculate scrollbarWidth in case it's a zoom\n      this.scrollbarWidth = scrollbarWidth();\n\n      this.recalculate();\n\n      this.initListeners();\n    }\n  }\n\n  initDOM() {\n    // make sure this element doesn't have the elements yet\n    if (\n      Array.from(this.el.children).filter(child =>\n        child.classList.contains(this.classNames.wrapper)\n      ).length\n    ) {\n      // assume that element has his DOM already initiated\n      this.wrapperEl = this.el.querySelector(`.${this.classNames.wrapper}`);\n      this.contentEl = this.el.querySelector(`.${this.classNames.content}`);\n      this.offsetEl = this.el.querySelector(`.${this.classNames.offset}`);\n      this.maskEl = this.el.querySelector(`.${this.classNames.mask}`);\n      this.placeholderEl = this.el.querySelector(`.${this.classNames.placeholder}`);\n      this.heightAutoObserverWrapperEl = this.el.querySelector(`.${this.classNames.heightAutoObserverWrapperEl}`);\n      this.heightAutoObserverEl = this.el.querySelector(`.${this.classNames.heightAutoObserverEl}`);\n      this.axis.x.track.el = this.el.querySelector(`.${this.classNames.track}.${this.classNames.horizontal}`);\n      this.axis.y.track.el = this.el.querySelector(`.${this.classNames.track}.${this.classNames.vertical}`);\n    } else {\n      // Prepare DOM\n      this.wrapperEl = document.createElement('div');\n      this.contentEl = document.createElement('div');\n      this.offsetEl = document.createElement('div');\n      this.maskEl = document.createElement('div');\n      this.placeholderEl = document.createElement('div');\n      this.heightAutoObserverWrapperEl = document.createElement('div');\n      this.heightAutoObserverEl = document.createElement('div');\n\n      this.wrapperEl.classList.add(this.classNames.wrapper);\n      this.contentEl.classList.add(this.classNames.content);\n      this.offsetEl.classList.add(this.classNames.offset);\n      this.maskEl.classList.add(this.classNames.mask);\n      this.placeholderEl.classList.add(this.classNames.placeholder);\n      this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl);\n      this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);\n\n      while (this.el.firstChild) this.contentEl.appendChild(this.el.firstChild);\n\n      this.offsetEl.appendChild(this.contentEl);\n      this.maskEl.appendChild(this.offsetEl);\n      this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl);\n      this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl);\n      this.wrapperEl.appendChild(this.maskEl);\n      this.wrapperEl.appendChild(this.placeholderEl);\n      this.el.appendChild(this.wrapperEl);\n    }\n\n    if (!this.axis.x.track.el || !this.axis.y.track.el) {\n      const track = document.createElement('div');\n      const scrollbar = document.createElement('div');\n\n      track.classList.add(this.classNames.track);\n      scrollbar.classList.add(this.classNames.scrollbar);\n\n      if (!this.options.autoHide) {\n        scrollbar.classList.add(this.classNames.visible);\n      }\n\n      track.appendChild(scrollbar);\n\n      this.axis.x.track.el = track.cloneNode(true);\n      this.axis.x.track.el.classList.add(this.classNames.horizontal);\n\n      this.axis.y.track.el = track.cloneNode(true);\n      this.axis.y.track.el.classList.add(this.classNames.vertical);\n\n      this.el.appendChild(this.axis.x.track.el);\n      this.el.appendChild(this.axis.y.track.el);\n    }\n\n    this.axis.x.scrollbar.el = this.axis.x.track.el.querySelector(\n      `.${this.classNames.scrollbar}`\n    );\n    this.axis.y.scrollbar.el = this.axis.y.track.el.querySelector(\n      `.${this.classNames.scrollbar}`\n    );\n\n    this.el.setAttribute('data-simplebar', 'init');\n  }\n\n  initListeners() {\n    // Event listeners\n    if (this.options.autoHide) {\n      this.el.addEventListener('mouseenter', this.onMouseEnter);\n    }\n\n    ['mousedown', 'click', 'dblclick', 'touchstart', 'touchend', 'touchmove'].forEach((e) => {\n      this.el.addEventListener(e, this.onPointerEvent);\n    });\n    this.el.addEventListener('mousemove', this.onMouseMove);\n    this.el.addEventListener('mouseleave', this.onMouseLeave);\n\n    this.contentEl.addEventListener('scroll', this.onScroll);\n\n    // Browser zoom triggers a window resize\n    window.addEventListener('resize', this.onWindowResize);\n\n    // MutationObserver is IE11+\n    if (typeof MutationObserver !== 'undefined') {\n      // create an observer instance\n      this.mutationObserver = new MutationObserver(mutations => {\n        mutations.forEach(mutation => {\n          if (mutation.target === this.el || !this.isChildNode(mutation.target) || mutation.addedNodes.length) {\n            this.recalculate();\n          }\n        });\n      });\n\n      // pass in the target node, as well as the observer options\n      this.mutationObserver.observe(this.el, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n\n    this.resizeObserver = new ResizeObserver(this.recalculate);\n    this.resizeObserver.observe(this.el);\n  }\n\n  recalculate() {\n    const isHeightAuto = this.heightAutoObserverEl.offsetHeight <= 1;\n\n    this.elStyles = window.getComputedStyle(this.el);\n\n    this.isRtl = this.elStyles.direction === 'rtl';\n\n    this.contentEl.style.padding = `${this.elStyles.paddingTop} ${this.elStyles.paddingRight} ${this.elStyles.paddingBottom} ${this.elStyles.paddingLeft}`;\n    this.contentEl.style.height = isHeightAuto ? 'auto' : '100%';\n\n    this.placeholderEl.style.width = `${this.contentEl.scrollWidth}px`;\n    this.placeholderEl.style.height = `${this.contentEl.scrollHeight}px`;\n\n    this.wrapperEl.style.margin = `-${this.elStyles.paddingTop} -${this.elStyles.paddingRight} -${this.elStyles.paddingBottom} -${this.elStyles.paddingLeft}`;\n\n    this.axis.x.track.rect = this.axis.x.track.el.getBoundingClientRect();\n    this.axis.y.track.rect = this.axis.y.track.el.getBoundingClientRect();\n\n    // Set isEnabled to false if scrollbar is not necessary (content is shorter than offset)\n    this.axis.x.isEnabled = (this.scrollbarWidth ? this.contentEl.scrollWidth : this.contentEl.scrollWidth - this.minScrollbarWidth) > Math.ceil(this.axis.x.track.rect.width);\n    this.axis.y.isEnabled = (this.scrollbarWidth ? this.contentEl.scrollHeight : this.contentEl.scrollHeight - this.minScrollbarWidth) > Math.ceil(this.axis.y.track.rect.height);\n\n    // TODO this requires host to set overflow explicitely cause [data-simplebar] applies overflow: hidden...\n    // Set isEnabled to false if user explicitely set hidden overflow\n    this.axis.x.isEnabled = this.elStyles.overflowX === 'hidden' ? false : this.axis.x.isEnabled;\n    this.axis.y.isEnabled = this.elStyles.overflowY === 'hidden' ? false : this.axis.y.isEnabled;\n\n    this.axis.x.scrollbar.size = this.getScrollbarSize('x');\n    this.axis.y.scrollbar.size = this.getScrollbarSize('y');\n\n    this.axis.x.scrollbar.el.style.width = `${this.axis.x.scrollbar.size}px`;\n    this.axis.y.scrollbar.el.style.height = `${this.axis.y.scrollbar.size}px`;\n\n    this.positionScrollbar('x');\n    this.positionScrollbar('y');\n\n    this.toggleTrackVisibility('x');\n    this.toggleTrackVisibility('y');\n\n    this.hideNativeScrollbar();\n  }\n\n  /**\n   * Calculate scrollbar size\n   */\n  getScrollbarSize(axis = 'y') {\n    const contentSize = this.scrollbarWidth ? this.contentEl[this.axis[axis].scrollSizeAttr] : this.contentEl[this.axis[axis].scrollSizeAttr] - this.minScrollbarWidth;\n    const trackSize = this.axis[axis].track.rect[this.axis[axis].sizeAttr];\n    let scrollbarSize;\n\n    if (!this.axis[axis].isEnabled && !this.options.forceVisible) {\n      return;\n    }\n\n    let scrollbarRatio = trackSize / contentSize;\n\n    // Calculate new height/position of drag handle.\n    scrollbarSize = Math.max(\n      ~~(scrollbarRatio * trackSize),\n      this.options.scrollbarMinSize\n    );\n\n    if (this.options.scrollbarMaxSize) {\n      scrollbarSize = Math.min(\n        scrollbarSize,\n        this.options.scrollbarMaxSize\n      );\n    }\n\n    return scrollbarSize;\n  }\n\n  positionScrollbar(axis = 'y') {\n    const contentSize = this.scrollbarWidth ? this.contentEl[this.axis[axis].scrollSizeAttr] : this.contentEl[this.axis[axis].scrollSizeAttr] - this.minScrollbarWidth;\n    const trackSize = this.axis[axis].track.rect[this.axis[axis].sizeAttr];\n    const hostSize = parseInt(this.elStyles[this.axis[axis].sizeAttr], 10);\n    const scrollbar = this.axis[axis].scrollbar;\n\n    let scrollOffset = this.contentEl[this.axis[axis].scrollOffsetAttr];\n    scrollOffset = axis === 'x' && this.isRtl && SimpleBar.getRtlHelpers().isRtlScrollingInverted ? -scrollOffset : scrollOffset;\n    let scrollPourcent = scrollOffset / (contentSize - hostSize);\n\n    let handleOffset = ~~((trackSize - scrollbar.size) * scrollPourcent);\n    handleOffset = axis === \"x\" && this.isRtl && SimpleBar.getRtlHelpers().isRtlScrollbarInverted ? handleOffset + (trackSize - scrollbar.size) : handleOffset;\n\n    if (this.axis[axis].isEnabled || this.options.forceVisible) {\n      scrollbar.el.style.transform = axis === 'x' ? `translate3d(${handleOffset}px, 0, 0)` : `translate3d(0, ${handleOffset}px, 0)`;\n    }\n  }\n\n  toggleTrackVisibility(axis = 'y') {\n    const track = this.axis[axis].track.el;\n    const scrollbar = this.axis[axis].scrollbar.el;\n\n    if (this.axis[axis].isEnabled || this.options.forceVisible) {\n      track.style.visibility = 'visible';\n      this.contentEl.style[this.axis[axis].overflowAttr] = 'scroll';\n    } else {\n      track.style.visibility = 'hidden';\n      this.contentEl.style[this.axis[axis].overflowAttr] = 'hidden';\n    }\n\n    // Even if forceVisible is enabled, scrollbar itself should be hidden\n    if (this.options.forceVisible) {\n      if (this.axis[axis].isEnabled) {\n        scrollbar.style.visibility = 'visible';\n      } else {\n        scrollbar.style.visibility = 'hidden';\n      }\n    }\n  }\n\n  hideNativeScrollbar() {\n    this.offsetEl.style[this.isRtl ? 'left' : 'right'] = this.axis.y.isEnabled || this.options.forceVisible ?\n      `-${this.scrollbarWidth || this.minScrollbarWidth}px` : 0;\n    this.offsetEl.style.bottom = this.axis.x.isEnabled || this.options.forceVisible ? `-${this.scrollbarWidth || this.minScrollbarWidth}px` : 0;\n\n    // If floating scrollbar\n    if (!this.scrollbarWidth) {\n      const paddingDirection = [this.isRtl ? 'paddingLeft' : 'paddingRight'];\n      this.contentEl.style[paddingDirection] = `calc(${this.elStyles[paddingDirection]} + ${this.minScrollbarWidth}px)`;\n      this.contentEl.style.paddingBottom = `calc(${this.elStyles.paddingBottom} + ${this.minScrollbarWidth}px)`;\n    }\n  }\n\n  /**\n   * On scroll event handling\n   */\n  onScroll = () => {\n    if (!this.scrollXTicking) {\n      window.requestAnimationFrame(this.scrollX);\n      this.scrollXTicking = true;\n    }\n\n    if (!this.scrollYTicking) {\n      window.requestAnimationFrame(this.scrollY);\n      this.scrollYTicking = true;\n    }\n  }\n\n  scrollX = () => {\n    this.showScrollbar('x');\n    this.positionScrollbar('x');\n    this.scrollXTicking = false;\n  }\n\n  scrollY = () => {\n    this.showScrollbar('y');\n    this.positionScrollbar('y');\n    this.scrollYTicking = false;\n  }\n\n  onMouseEnter = () => {\n    this.showScrollbar('x');\n    this.showScrollbar('y');\n  }\n\n  onMouseMove = (e) => {\n    this.mouseX = e.clientX;\n    this.mouseY = e.clientY;\n\n    if (this.isWithinBounds(this.axis.y.track.rect)) {\n      this.showScrollbar('y');\n    }\n\n    if (this.isWithinBounds(this.axis.x.track.rect)) {\n      this.showScrollbar('x');\n    }\n  }\n\n  onMouseLeave = () => {\n    this.onMouseMove.cancel();\n\n    this.mouseX = -1;\n    this.mouseY = -1;\n  }\n\n  onWindowResize = () => {\n    // Recalculate scrollbarWidth in case it's a zoom\n    this.scrollbarWidth = scrollbarWidth();\n\n    this.hideNativeScrollbar();\n  }\n\n  /**\n   * Show scrollbar\n   */\n  showScrollbar(axis = 'y') {\n    let scrollbar = this.axis[axis].scrollbar.el;\n\n    this.hideScrollbars();\n\n    // Scrollbar already visible\n    if (this.axis[axis].isVisible) {\n      return;\n    }\n\n    if (this.axis[axis].isEnabled) {\n      scrollbar.classList.add(this.classNames.visible);\n      this.axis[axis].isVisible = true;\n    }\n\n    if (!this.options.autoHide) {\n      return;\n    }\n  }\n\n  /**\n   * Hide Scrollbar\n   */\n  hideScrollbars = () => {\n    this.axis.x.track.rect = this.axis.x.track.el.getBoundingClientRect();\n    this.axis.y.track.rect = this.axis.y.track.el.getBoundingClientRect();\n\n    if (!this.isWithinBounds(this.axis.y.track.rect)) {\n      this.axis.y.scrollbar.el.classList.remove('visible');\n      this.axis.y.isVisible = false;\n    }\n\n    if (!this.isWithinBounds(this.axis.x.track.rect)) {\n      this.axis.x.scrollbar.el.classList.remove('visible');\n      this.axis.x.isVisible = false;\n    }\n  }\n\n  onPointerEvent = (e) => {\n    this.axis.x.track.rect = this.axis.x.track.el.getBoundingClientRect();\n    this.axis.y.track.rect = this.axis.y.track.el.getBoundingClientRect();\n\n    const isWithinBoundsY = this.isWithinBounds(this.axis.y.track.rect);\n    const isWithinBoundsX = isWithinBoundsY ? false : this.isWithinBounds(this.axis.x.track.rect);\n\n    // If any pointer event is called on the scrollbar\n    if (isWithinBoundsY || isWithinBoundsX) {\n      // Preventing the event's default action stops text being\n      // selectable during the drag.\n      e.preventDefault();\n      // Prevent event leaking\n      e.stopPropagation();\n\n      if (e.type === 'mousedown') {\n        if (isWithinBoundsY) {\n          this.onDragStart(e, 'y');\n        }\n\n        if (isWithinBoundsX) {\n          this.onDragStart(e, 'x');\n        }\n      }\n    }\n  }\n\n  /**\n   * on scrollbar handle drag movement starts\n   */\n  onDragStart(e, axis = 'y') {\n    const scrollbar = this.axis[axis].scrollbar.el;\n\n    // Measure how far the user's mouse is from the top of the scrollbar drag handle.\n    const eventOffset = axis === 'y' ? e.pageY : e.pageX;\n    this.axis[axis].dragOffset =\n      eventOffset - scrollbar.getBoundingClientRect()[this.axis[axis].offsetAttr];\n    this.draggedAxis = axis;\n\n    document.addEventListener('mousemove', this.drag);\n    document.addEventListener('mouseup', this.onEndDrag);\n  }\n\n  /**\n   * Drag scrollbar handle\n   */\n  drag = (e) => {\n    let eventOffset;\n    let track = this.axis[this.draggedAxis].track;\n    const trackSize = track.rect[this.axis[this.draggedAxis].sizeAttr];\n    const scrollbar = this.axis[this.draggedAxis].scrollbar;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (this.draggedAxis === 'y') {\n      eventOffset = e.pageY;\n    } else {\n      eventOffset = e.pageX;\n    }\n\n    // Calculate how far the user's mouse is from the top/left of the scrollbar (minus the dragOffset).\n    let dragPos =\n      eventOffset -\n      track.rect[this.axis[this.draggedAxis].offsetAttr] -\n      this.axis[this.draggedAxis].dragOffset;\n    // Convert the mouse position into a percentage of the scrollbar height/width.\n    let dragPerc = dragPos / track.rect[this.axis[this.draggedAxis].sizeAttr];\n\n    // Scroll the content by the same percentage.\n    let scrollPos =\n      dragPerc * this.contentEl[this.axis[this.draggedAxis].scrollSizeAttr];\n\n    // Fix browsers inconsistency on RTL\n    if (this.draggedAxis === 'x') {\n      scrollPos = this.isRtl && SimpleBar.getRtlHelpers().isRtlScrollbarInverted ? scrollPos - (trackSize + scrollbar.size) : scrollPos;\n      scrollPos = this.isRtl && SimpleBar.getRtlHelpers().isRtlScrollingInverted ? -scrollPos : scrollPos;\n    }\n\n    this.contentEl[this.axis[this.draggedAxis].scrollOffsetAttr] = scrollPos;\n  }\n\n  /**\n   * End scroll handle drag\n   */\n  onEndDrag = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    document.removeEventListener('mousemove', this.drag);\n    document.removeEventListener('mouseup', this.onEndDrag);\n  }\n\n  /**\n   * Getter for original scrolling element\n   */\n  getScrollElement() {\n    return this.contentEl;\n  }\n\n  removeListeners() {\n    // Event listeners\n    if (this.options.autoHide) {\n      this.el.removeEventListener('mouseenter', this.onMouseEnter);\n    }\n\n    this.contentEl.removeEventListener('scroll', this.onScroll);\n    window.removeEventListener('resize', this.onWindowResize);\n\n    this.mutationObserver.disconnect();\n    this.resizeObserver.disconnect();\n  }\n\n  /**\n   * UnMount mutation observer and delete SimpleBar instance from DOM element\n   */\n  unMount() {\n    this.removeListeners();\n    this.el.SimpleBar = null;\n  }\n\n  /**\n   * Recursively walks up the parent nodes looking for this.el\n   */\n  isChildNode(el) {\n    if (el === null) return false;\n    if (el === this.el) return true;\n\n    return this.isChildNode(el.parentNode);\n  }\n\n  /**\n   * Check if mouse is within bounds\n   */\n  isWithinBounds(bbox) {\n    return this.mouseX >= bbox.left && this.mouseX <= bbox.left + bbox.width && this.mouseY >= bbox.top && this.mouseY <= bbox.top + bbox.height;\n  }\n}\n\n/**\n * HTML API\n * Called only in a browser env.\n */\nif (canUseDOM) {\n  SimpleBar.initHtmlApi();\n}\n"],"names":["SimpleBar","element","options","onScroll","scrollXTicking","window","requestAnimationFrame","scrollX","scrollYTicking","scrollY","showScrollbar","positionScrollbar","onMouseEnter","onMouseMove","e","mouseX","clientX","mouseY","clientY","isWithinBounds","axis","y","track","rect","x","onMouseLeave","cancel","onWindowResize","scrollbarWidth","hideNativeScrollbar","hideScrollbars","el","getBoundingClientRect","scrollbar","classList","remove","isVisible","onPointerEvent","isWithinBoundsY","isWithinBoundsX","preventDefault","stopPropagation","type","onDragStart","drag","eventOffset","draggedAxis","trackSize","sizeAttr","pageY","pageX","dragPos","offsetAttr","dragOffset","dragPerc","scrollPos","contentEl","scrollSizeAttr","isRtl","getRtlHelpers","isRtlScrollbarInverted","size","isRtlScrollingInverted","scrollOffsetAttr","onEndDrag","document","removeEventListener","flashTimeout","offsetEl","maskEl","globalObserver","mutationObserver","resizeObserver","minScrollbarWidth","Object","assign","defaultOptions","classNames","overflowAttr","isEnabled","recalculate","throttle","bind","debounce","timeout","leading","memoize","getContentElement","getScrollElement","init","initDOM","canUseDOM","initListeners","Array","from","children","filter","child","contains","wrapper","length","wrapperEl","querySelector","content","offset","mask","placeholderEl","placeholder","heightAutoObserverWrapperEl","heightAutoObserverEl","horizontal","vertical","createElement","add","firstChild","appendChild","autoHide","visible","cloneNode","setAttribute","addEventListener","forEach","MutationObserver","mutations","mutation","target","isChildNode","addedNodes","observe","attributes","childList","characterData","subtree","ResizeObserver","isHeightAuto","offsetHeight","elStyles","getComputedStyle","direction","style","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","height","width","scrollWidth","scrollHeight","margin","Math","ceil","overflowX","overflowY","getScrollbarSize","toggleTrackVisibility","contentSize","scrollbarSize","forceVisible","scrollbarRatio","max","scrollbarMinSize","scrollbarMaxSize","min","hostSize","parseInt","scrollOffset","scrollPourcent","handleOffset","transform","visibility","bottom","paddingDirection","disconnect","removeListeners","parentNode","bbox","left","top","dummyDiv","innerHTML","scrollbarDummyEl","firstElementChild","body","dummyContainerChild","scrollLeft","dummyContainerOffset","getOffset","dummyContainerChildOffset","dummyContainerScrollOffsetAfterScroll","initDOMLoadedElements","addedNode","nodeType","hasAttribute","getElOptions","querySelectorAll","removedNodes","removedNode","unMount","readyState","documentElement","doScroll","setTimeout","reduce","acc","attribute","option","name","match","key","replace","chr","toUpperCase","value","undefined","pageYOffset","scrollTop","pageXOffset","initHtmlApi"],"mappings":"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"}